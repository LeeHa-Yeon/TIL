# DFS

## DFS (Depth-First Search) 의 특징

- 한 우물만 깊게 파서 끝을 보는 탐색
- 루트노드에서 시작해서 다음 분기로 넘어가기 전에 해당 분기를 완벽하게 탐색하는 방법
- 미로를 탐색할 때 한 방향으로 갈 수 있을 때까지 계속 가다가 더 이상 갈 수 없게 되면 다시 가장 가까운 갈림길로 돌아와 이곳부터 다른 방향으로 다시 탐색하는 방법과 유사
- 넓게 < 깊게
- 언제 사용? 모든 노드를 방문하고자 하는 경우
- BFS보다 간단
- 단순 검색 속도 자체는 느림
- 

- 순서 : A - B - E - I - J - C - F - D - G - H - K

![DFS%208d20651021e34636bd8f630ffd3c68ed/_2021-05-02__12.21.39.png](DFS%208d20651021e34636bd8f630ffd3c68ed/_2021-05-02__12.21.39.png)

## 스택을 이용

- DFS에서는 한 단계에서 Pop / Expand 두 가지 일을 동시에 처리
    - pop : 스택의 맨 위 노드를 꺼내는 일
    - expand : pop한 노드의 자식을 모두 스택에 넣는 일

                        : 만약 자식이 없다면 패스

    ![DFS%208d20651021e34636bd8f630ffd3c68ed/_2021-05-02__12.26.06.png](DFS%208d20651021e34636bd8f630ffd3c68ed/_2021-05-02__12.26.06.png)

- 설명
1. 루트 노드 (시작점) 인 `A` 를 스택에 넣습니다.
2. `A` 를 `Pop` 하면서 `Expand` 합니다. 즉, `A` 는 지우고 `A` 의 자식인 `B`, `C`, `D` 를 스택에 넣습니다.
3. 스택의 맨 위에 있는 `B` 를 `Pop` and `Expand` 합니다. 즉, `B` 는 지우고 `B` 의 자식인 `E` 를 스택에 넣습니다.
4. 스택의 맨 위에 있는 `E` 를 `Pop` and `Expand` 합니다. 즉, `E` 는 지우고 `E` 의 자식인 `I`, `J` 를 스택에 넣습니다.
5. 스택의 맨 위에 있는 `I` 를 `Pop` and `Expand` 합니다. 이 때, `I` 는 자식이 없으므로 (끝에 도달했으므로) 스택에 넣을 것이 없습니다.
6. 스택의 맨 위에 있는 `J` 를 `Pop` and `Expand` 합니다. 이 때, `J` 또한 자식이 없으므로 스택에 넣을 것이 없습니다.
7. 스택의 맨 위에 있는 `C` 를 `Pop` and `Expand` 합니다. 즉, `C` 는 지우고 `C` 의 자식인 `F` 를 스택에 넣습니다.
8. 스택의 맨 위에 있는 `F` 를 `Pop` and `Expand` 합니다. 이 때, `F` 는 자식이 없으므로 스택에 넣을 것이 없습니다.
9. 스택의 맨 위에 있는 `D` 를 `Pop` and `Expand` 합니다. 즉, `D` 는 지우고 `D` 의 자식인 `H`, `K` 를 스택에 넣습니다.
10. 스택의 맨 위에 있는 `G` 를 `Pop` and `Expand` 합니다. 이 때, `G` 는 자식이 없으므로 스택에 넣을 것이 없습니다.
11. 스택의 맨 위에 있는 `H` 를 `Pop` and `Expand` 합니다. 이 때, `H` 는 자식이 없으므로 스택에 넣을 것이 없습니다.
12. 스택의 맨 위에 있는 `K` 를 `Pop` and `Expand` 합니다. 이 때, `K` 는 자식이 없으므로 스택에 넣을 것이 없습니다.
13. 스택이 비었습니다. 이 말은 모든 노드를 탐색했다는 뜻이죠!

## 파이썬 코드

```python
# stack 사용
def DFS(graph, start_node) :
    visit = list()
    stack = list()

    stack.append(start_node)

    while stack :
        node = stack.pop()
        if node not in visit :
            visit.append(node)
            stack.extend(graph[node])
    return visit

graph = {
    'A': ['B'],
    'B': ['A', 'C', 'H'],
    'C': ['B', 'D'],
    'D': ['C', 'E', 'G'],
    'E': ['D', 'F'],
    'F': ['E'],
    'G': ['D'],
    'H': ['B', 'I', 'J', 'M'],
    'I': ['H'],
    'J': ['H', 'K'],
    'K': ['J', 'L'],
    'L': ['K'],
    'M': ['H']
}

print(DFS(graph,'A'))
```